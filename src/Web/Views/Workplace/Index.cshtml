@model Model.Views.TooaegList

@{
    var cssActive = "btn " + (Model.ShowActiveOnly ? "btn-primary" : "btn-default");
    var cssAll = "btn " + (Model.ShowActiveOnly ? "btn-default" : "btn-primary");
    var headerMetadata = Model.Tooajad.FirstOrDefault();
}

@Html.ActionLink("Aktiivsed", "Index", new { id = "active" }, new { @class = cssActive })
@Html.ActionLink("Kõik", "Index", new { id = "all" }, new { @class = cssAll })
@Html.ActionLink("Lisa uus", "Create", null, new { @class = "btn btn-primary pull-right" })


<table class="table table-striped" style="margin-top: 10px;">
    <tr>
        <th>
            @Html.DisplayNameFor(model => headerMetadata.kliendi_nimi)
        </th>
        <th>
            @Html.DisplayNameFor(model => headerMetadata.projekti_nimi)
        </th>
        <th>
            @Html.DisplayNameFor(model => headerMetadata.algus)
        </th>
        <th>
            @Html.DisplayNameFor(model => headerMetadata.lopp)
        </th>
        <th>
            @Html.DisplayNameFor(model => headerMetadata.kirjeldus)
        </th>
        <th>
            @Html.DisplayNameFor(model => headerMetadata.seisund_nimetus)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model.Tooajad)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.kliendi_nimi)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.projekti_nimi)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.algus)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.lopp)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.kirjeldus)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.seisund_nimetus)
            </td>
            <td>
                @Html.ActionLink("Muuda", "Edit", new { id = item.tooaeg_id }) |
                @Html.ActionLink("Kustuta", "Delete", new { id = item.tooaeg_id })
            </td>
        </tr>
    }

</table>
